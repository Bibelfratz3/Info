<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website für wichtige Informationen</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #111;
            color: #0f0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            width: 100%;
            background-color: #000;
            color: #0f0;
            text-align: center;
            padding: 20px 0;
            font-size: 24px;
            position: relative;
        }

        header .marquee {
            position: absolute;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
        }

        header .marquee span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 15s linear infinite;
            color: #0f0;
        }

        @keyframes marquee {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-100%); }
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .section {
            background-color: #000;
            padding: 20px;
            margin: 10px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
            width: 300px; /* Für quadratische Kästchen */
            height: 300px; /* Für quadratische Kästchen */
            overflow: auto; /* Falls der Inhalt größer ist */
        }

        h2 {
            text-align: center;
        }

        .calculator, .currency-converter, .countdown, .quote, .stopwatch {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            font-size: 16px;
            text-align: center;
        }

        button {
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #0f0;
            color: #000;
        }

        #map {
            height: 100%;
            width: 100%;
        }

        .quote-text {
            font-size: 18px;
            text-align: center;
            margin-bottom: 10px;
        }

        .stopwatch-display {
            font-size: 24px;
        }
    </style>
</head>
<body>

<header>
    Website für Informationen rund um die Welt
    <div class="marquee"><span>Bibelfratz website herzlich willkommen == Diese Website dient zur Information, es ist noch nicht alles perfekt ;)</span></div>
</header>

<div class="container">
    <!-- Taschenrechner -->
    <div id="calculator" class="section">
        <h2>Taschenrechner</h2>
        <div class="calculator">
            <input type="text" id="display" disabled>
            <div style="display: flex; flex-wrap: wrap; justify-content: center;">
                <button onclick="appendNumber('7')">7</button>
                <button onclick="appendNumber('8')">8</button>
                <button onclick="appendNumber('9')">9</button>
                <button onclick="chooseOperation('/')">/</button>
                <button onclick="appendNumber('4')">4</button>
                <button onclick="appendNumber('5')">5</button>
                <button onclick="appendNumber('6')">6</button>
                <button onclick="chooseOperation('*')">*</button>
                <button onclick="appendNumber('1')">1</button>
                <button onclick="appendNumber('2')">2</button>
                <button onclick="appendNumber('3')">3</button>
                <button onclick="chooseOperation('-')">-</button>
                <button onclick="appendNumber('0')">0</button>
                <button onclick="appendNumber('.')">.</button>
                <button onclick="clearDisplay()">C</button>
                <button onclick="chooseOperation('+')">+</button>
                <button onclick="compute()">=</button>
            </div>
        </div>
    </div>

    <!-- Währungsumrechner -->
    <div id="currency-converter" class="section">
        <h2>Währungsumrechner</h2>
        <div class="currency-converter">
            <input type="number" id="amount" placeholder="Betrag">
            <select id="currency">
                <option value="usdToEur">USD zu EUR</option>
                <option value="eurToUsd">EUR zu USD</option>
            </select>
            <button onclick="convertCurrency()">Umrechnen</button>
            <input type="text" id="result" disabled>
        </div>
    </div>

    <!-- Karte -->
    <div id="map-section" class="section">
        <h2>Karte</h2>
        <div id="map"></div>
    </div>

    <!-- Wettervorhersage -->
    <div id="weather" class="section">
        <h2>Wettervorhersage</h2>
        <div id="weather-info">Lädt Wetterdaten...</div>
    </div>

    <!-- Nachrichten -->
    <div id="news" class="section">
        <h2>Nachrichten</h2>
        <div id="news-info">Lädt Nachrichten...</div>
    </div>

    <!-- Countdown-Timer -->
    <div id="countdown" class="section">
        <h2>Countdown-Timer</h2>
        <div class="countdown">
            <input type="datetime-local" id="countdown-date">
            <button onclick="startCountdown()">Start Countdown</button>
            <p id="countdown-display"></p>
        </div>
    </div>

    <!-- Zufällige Zitate -->
    <div id="quote" class="section">
        <h2>Zufällige Zitate</h2>
        <div class="quote">
            <p class="quote-text" id="random-quote">Lädt Zitate...</p>
            <button onclick="generateQuote()">Neues Zitat</button>
        </div>
    </div>

    <!-- Stoppuhr -->
    <div id="stopwatch" class="section">
        <h2>Stoppuhr</h2>
        <div class="stopwatch">
            <p class="stopwatch-display" id="stopwatch-display">00:00:00</p>
            <button onclick="startStopwatch()">Start</button>
            <button onclick="stopStopwatch()">Stop</button>
            <button onclick="resetStopwatch()">Reset</button>
        </div>
    </div>
</div>

<script>
    // Taschenrechner
    let currentOperation = '';
    let previousValue = '';
    let currentValue = '';

    function appendNumber(number) {
        currentValue += number;
        updateDisplay();
    }

    function chooseOperation(operation) {
        if (currentValue === '') return;
        if (previousValue !== '') {
            compute();
        }
        currentOperation = operation;
        previousValue = currentValue;
        currentValue = '';
    }

    function compute() {
        let result;
        const prev = parseFloat(previousValue);
        const current = parseFloat(currentValue);
        if (isNaN(prev) || isNaN(current)) return;
        switch (currentOperation) {
            case '+':
                result = prev + current;
                break;
            case '-':
                result = prev - current;
                break;
            case '*':
                result = prev * current;
                break;
            case '/':
                result = prev / current;
                break;
            default:
                return;
        }
        currentValue = result;
        currentOperation = '';
        previousValue = '';
        updateDisplay();
    }

    function updateDisplay() {
        document.getElementById('display').value = currentValue;
    }

    function clearDisplay() {
        currentValue = '';
        previousValue = '';
        currentOperation = '';
        updateDisplay();
    }

    // Währungsumrechner
    function convertCurrency() {
        const amount = document.getElementById('amount').value;
        const currency = document.getElementById('currency').value;
        let result;
        if (currency === 'usdToEur') {
            result = amount * 0.85;
        } else if (currency === 'eurToUsd') {
            result = amount * 1.18;
        }
        document.getElementById('result').value = result.toFixed(2);
    }

    // Countdown-Timer
    let countdownInterval;
    function startCountdown() {
        const targetDate = new Date(document.getElementById('countdown-date').value).getTime();
        countdownInterval = setInterval(() => {
            const now = new Date().getTime();
            const distance = targetDate - now;
            if (distance < 0) {
                clearInterval(countdownInterval);
                document.getElementById('countdown-display').textContent = 'Zeit abgelaufen!';
                return;
            }
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            document.getElementById('countdown-display').textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }, 1000);
    }

    // Zufällige Zitate
    const quotes = [
        "Der beste Weg, die Zukunft vorherzusagen, ist, sie zu erfinden.",
        "Leben ist das, was passiert, während du beschäftigt bist, andere Pläne zu machen.",
        "Erfolg ist nicht der Schlüssel zum Glück, Glück ist der Schlüssel zum Erfolg."
    ];

    function generateQuote() {
        const randomIndex = Math.floor(Math.random() * quotes.length);
        document.getElementById('random-quote').textContent = quotes[randomIndex];
    }

    // Stoppuhr
    let stopwatchInterval;
    let elapsedTime = 0;

    function startStopwatch() {
        const startTime = Date.now() - elapsedTime;
        stopwatchInterval = setInterval(() => {
            elapsedTime = Date.now() - startTime;
            const hours = Math.floor(elapsedTime / (1000 * 60 * 60));
            const minutes = Math.floor((elapsedTime % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((elapsedTime % (1000 * 60)) / 1000);
            document.getElementById('stopwatch-display').textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }, 1000);
    }

    function stopStopwatch() {
        clearInterval(stopwatchInterval);
    }

    function resetStopwatch() {
        clearInterval(stopwatchInterval);
        elapsedTime = 0;
        document.getElementById('stopwatch-display').textContent = '00:00:00';
    }

    // Wettervorhersage
    const weatherApiKey = 'ff3bbde78697d4f25806c0cb48b84bb1';
    fetch(`https://api.openweathermap.org/data/2.5/weather?q=Berlin&units=metric&appid=${weatherApiKey}`)
        .then(response => response.json())
        .then(data => {
            document.getElementById('weather-info').textContent = `${data.name}: ${data.weather[0].description}, ${data.main.temp}°C`;
        })
        .catch(err => {
            document.getElementById('weather-info').textContent = 'Wetterdaten konnten nicht geladen werden.';
        });

    // Nachrichten
    const newsApiKey = '25fe4fd728414dc686b5e274f3fd826e';
    fetch(`https://newsapi.org/v2/top-headlines?country=de&apiKey=${newsApiKey}`)
        .then(response => response.json())
        .then(data => {
            let newsHtml = '';
            data.articles.slice(0, 3).forEach(article => {
                newsHtml += `<h3>${article.title}</h3><p>${article.description}</p>`;
            });
            document.getElementById('news-info').innerHTML = newsHtml;
        })
        .catch(err => {
            document.getElementById('news-info').textContent = 'Nachrichten konnten nicht geladen werden.';
        });

    // Karte
    function initMap() {
        const map = L.map('map').setView([52.52, 13.405], 13); // Koordinaten für Berlin

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        L.marker([52.52, 13.405]).addTo(map)
            .bindPopup('Hier ist Berlin!')
            .openPopup();
    }

    document.addEventListener('DOMContentLoaded', initMap);
</script>

</body>
</html>
